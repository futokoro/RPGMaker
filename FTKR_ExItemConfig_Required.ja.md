[トップページに戻る](README.md)

# [FTKR_ExItemConfig_Required](FTKR_ExItemConfig_Required.js) プラグイン

アイテムとスキルの使用条件を拡張するプラグインです。<br>
本プラグインは、FTKR_SkillExpansion.jsと組み合わせて使用できません。

ダウンロード: [FTKR_ExItemConfig_Required.js](https://raw.githubusercontent.com/futokoro/RPGMaker/master/FTKR_ExItemConfig_Required.js)

## 目次

以下の項目の順でプラグインの使い方を説明します。
1. [概要](#概要)
2. [使用条件の設定](#使用条件の設定)
* [プラグインの更新履歴](#プラグインの更新履歴)
* [ライセンス](#ライセンス)

## 概要

本プラグインを実装することで、アイテムやスキルの使用条件をより詳細に設定できます。

1. 必要武器を二つ以上設定できます。
2. 装備タイプや防具タイプを条件に設定できます。
3. 使用者の必要パラメータ等の条件を設定できます。
4. アイテムに使用条件を設定できます。

## 使用条件の設定

スキルに以下のノートタグを追記することで、使用条件の設定ができます。
```
<EIC 使用条件>
code
</EIC 使用条件>
```

### code に使用できる項目
```
WtypeId: y1,y2,...
武器タイプID: y1,y2,...
```
必要武器の武器タイプID y1,y2,... を追加します。

```
EtypeId: y1,y2,...
装備タイプID: y1,y2,...
```
スキルを使用するために、特定の装備タイプが必要になります。
必要装備タイプID y1,y2,... を追加します。

```
AtypeId: y1,y2,...
防具タイプID: y1,y2,...
```
スキルを使用するために、特定の防具タイプが必要になります。
必要防具タイプID y1,y2,... を追加します。

```
Logic: type
論理計算: type
```
必要武器や装備を複数設定した場合の、論理計算方法を設定します。
type に以下のコードを設定してください。
* and - すべて装備する必要がある
* or  - いずれか1つ装備すればよい
* nand- 設定した装備の組合せをしてはいけない
* nor - いずれか1つでも装備してはいけない
コードで設定しない場合は、'or'を適用します。

```
Condition: eval
追加条件: 計算式
```
スキルの使用条件に 計算式(eval) で設定した条件を追加します。

### 計算式(eval) の値について
計算式(eval)は、ダメージ計算式のように、計算式を入力することで、
固定値以外の値を使用することができます。以下のコードを使用できます。
* a.param - 使用者のパラメータを参照します。(a.atk で使用者の攻撃力)
* s[x]    - スイッチID x の状態を参照します。
* v[x]    - 変数ID x の値を参照します。
* iv[x]   - アイテムのセルフ変数ID x の値を参照します。(*1)

(*1) セルフ変数を使用する場合は、FTKR_ItemSelfVariables.jsが必要です。

### 入力例
スキルを使用するために必要な武器を、武器タイプ1,2に設定する。
ただし、武器タイプ1,2の両方を装備していなければならない。
また、使用するために、LV10以上とスイッチID1がONが必要になる。
```
<EIC 使用条件>
武器タイプID: 1,2
論理計算: and
追加条件: a.level >= 10 && s[1]
</EIC 使用条件>
```

[目次に戻る](#目次)

## プラグインの更新履歴

| バージョン | 公開日 | 更新内容 |
| --- | --- | --- |
| [ver1.0.3](FTKR_ExItemConfig_Required.js) | 2018/02/01 | 防具タイプIDを条件に指定する機能を追加 |
| ver1.0.2 | 2018/01/31 | 装備タイプを指定しても正しく動作しない不具合を修正 |
| ver1.0.1 | 2017/04/29 | FTKR_ItemSelfVariables の v1.1.0以降に対応 |
| ver1.0.0 | 2017/04/14 | 初版公開 |

## ライセンス

本プラグインはMITライセンスのもとで公開しています。

[The MIT License (MIT)](https://opensource.org/licenses/mit-license.php)

#
[目次に戻る](#目次)

[トップページに戻る](README.md)
[トップページに戻る](README.md)

# [FTKR_CustomSimpleActorStatus](FTKR_CustomSimpleActorStatus.js) プラグイン

アクターのステータス表示を変更するプラグインです。

ダウンロード: [FTKR_CustomSimpleActorStatus.js](https://raw.githubusercontent.com/futokoro/RPGMaker/master/FTKR_CustomSimpleActorStatus.js)

# 目次

以下の項目の順でプラグインの使い方を説明します。
1. [概要](#概要)
1. [プラグインの登録](#プラグインの登録)
2. [基本設定](#基本設定)
    1. [レイアウトの基本構成](#レイアウトの基本構成)
    2. [表示できるステータス](#表示できるステータス)
3. [レイアウトの設定](#レイアウトの設定)
    1. [描画エリアサイズの設定](#描画エリアサイズの設定)
    3. [描画エリアの設定](#描画エリアの設定)
    4. [空白エリアの設定](#空白エリアの設定)
4. [ステータスの表示](#ステータスの表示)
    1. [顔画像の表示](#顔画像の表示)
    2. [歩行キャラ画像の表示](#歩行キャラ画像の表示)
    3. [SV戦闘キャラ画像の表示](#SV戦闘キャラ画像の表示)
    4. [ステートアイコンの表示](#ステートアイコンの表示)
    5. [装備パラメータの表示](#装備パラメータの表示)
    5. [ＡＯＰ装備パラメータの表示](#ＡＯＰ装備パラメータの表示)
    5. [カスタムパラメータの表示](#カスタムパラメータの表示)
    6. [カスタムゲージの表示](#カスタムゲージの表示)
    7. [カスタム画像の表示](#カスタム画像の表示)
    6. [アクター別のカスタムゲージの表示](#アクター別のカスタムゲージの表示)
    6. [クラス別のカスタムゲージの表示](#クラス別のカスタムゲージの表示)
    6. [メッセージの表示](#メッセージの表示)
* [プラグインの更新履歴](#プラグインの更新履歴)
* [拡張プラグイン](#拡張プラグイン)
* [ライセンス](#ライセンス)

# 概要

当プラグインは、アクターのステータス表示のレイアウトをより詳細に設定できる処理を実装します。

当プラグインの拡張プラグイン(FTKR_CSS_***.js)と組み合わせることで、メニュー画面や、バトル画面などさまざまなステータス画面を設定できるようになります。

また、トリアコンタンさん製作のGraphicalDesignMode.jsを使って、拡張プラグインのステータス表示のレイアウトをゲーム画面上で変更できます。
[GraphicalDesignMode.js(トリアコンタンさんのHPリンク)](https://triacontane.blogspot.jp/2016/03/gui.html)

[目次に戻る](#目次)

# プラグインの登録

以下のプラグインと組み合わせて使用する場合は、プラグイン管理画面で以下の順の配置になるように登録してください。
```
YEP_BuffsStatesCore.js
FTKR_CustomSimpleActorStatus.js
FTKR_CSS_***.js
FTKR_ExSvMotion.js
FTKR_FacialImageDifference.js
```

[目次に戻る](#目次)

# 基本設定
## レイアウトの基本構成

### 表示エリア

本プラグインでは、以下の図の赤枠で囲まれた (１)～(７) のレイアウト構成を基本の単位にしています。 (１)～(７) を合わせて表示エリアとします。

![画像](image/FTKR_CustomSimpleActorStatus/n01_002.png)

### 描画エリア
表示エリアの中で、各ステータスを表示するエリアを描画エリアとします。<br>
上の図の(1) ～ (3)の３つのエリアが該当します。<br>
それぞれの個別に幅を指定し、表示するステータスも個別に設定します。

### 空白エリア
表示エリアの中で、空白分として何も表示しないエリアを空白エリアとします。<br>
上の図の(4) ～ (7)の４つのエリアが該当します。<br>
それぞれの個別に幅を指定します。

[目次に戻る](#目次)

## 表示できるステータス

各描画エリアに表示することができるステータスは以下の通りです。

コードは、描画エリア設定用のプラグインパラメータに入力する文字列です。
大文字小文字の区別はありません。

制御文字の○×は、表示できる内容に制御文字が使用できるかどうかを表しています。使用できる場合が○です。

| ステータス名 | コード | 制御文字 |説明 |
| ----------- | ----- | ---- | ---- |
| 名前 | name | × | アクターの名前を表示します
| 二つ名 | nickname | × | アクターの二つ名を表示します |
| 職業 | class | × | アクターの職業を表示します |
| レベル | level | × | アクターの現在レベルを表示します |
| ＨＰ | hp | × | アクターの現在HPと最大HPとHPゲージを表示します |
| ＭＰ | mp | × | アクターの現在MPと最大MPとMPゲージを表示します |
| ＴＰ | tp | × | アクターの現在TPとTPゲージを表示します |
| [顔画像](#顔画像の表示) | face | × | アクターの顔画像を表示します |
| [歩行キャラ画像](#歩行キャラ画像の表示) | chara | × | アクターの歩行キャラ画像(正面)を表示します |
| [SV戦闘キャラ画像](#SV戦闘キャラ画像の表示) | sv | × | アクターのSVの戦闘キャラ画像を表示します |
| [ステートアイコン](#ステートアイコンの表示) | state <br> state2(x) | × | アクターに付与されているステートのアイコンを並べて表示します |
| プロフィール | profile | ○ | アクターのプロフィールを表示します <br> プロフィールは自動的に描画エリアを拡張して表示します |
| 通常能力値 | param(x) | × | 攻撃力や防御力等の通常能力名と数値を表示します <br> x に指定する数値と表示する能力は以下の通りです <br> 0 - 最大HP、1 - 最大MP、2 - 攻撃力、3 - 防御力 <br> 4 - 魔法攻撃、5 - 魔法防御、6 - 敏捷性、7 - 運|
| 装備 | equip(x) | × | 装備の名前とアイコンを表示します <br> x が装備タイプ番号を示します |
| [装備パラメータ](#装備パラメータの表示) | eparam(x) | × | 装備変更後の攻撃力や防御力等の数値を表示します |
| [ＡＯＰ装備パラメータ](#ＡＯＰ装備パラメータの表示) | eaop(x) | × | 装備変更後のオリジナルパラメータの数値を表示します |
| [カスタムパラメータ](#カスタムパラメータの表示) | custom(x) | ○ | プラグインパラメータで設定したパラメータを表示します |
| [カスタムゲージ](#カスタムゲージの表示) | gauge(x) | ○ | プラグインパラメータで設定したゲージを表示します |
| [アクター別のカスタムゲージ](#アクター別のカスタムゲージの表示) | agauge(x) | ○ | アクターのメモ欄で設定したゲージを表示します |
| [クラス別のカスタムゲージ](#クラス別のカスタムゲージの表示) | cgauge(x) | ○ | クラスのメモ欄で設定したゲージを表示します |
| [カスタム画像](#カスタム画像の表示) | image | × | アクターのメモ欄で設定した画像を表示します |
| [メッセージ](#メッセージの表示) | message | ○ | アクターの状態変化に合わせてメッセージを表示します |
| テキスト | text(x) | ○ | 文字列 x を表示します<br>x はパラメータの参照コードを入力することが可能です<br>text($dataItems[1].name) で、アイテムID1の名前を表示 |
| JS計算式 | eval(x) | × | 文字列 x をJS関数のeval()で評価しその結果を数値で表示します |
| JS計算式 | streval(x) | × | 文字列 x をJS関数のeval()で評価しその結果を文字列で表示します |
| 横線を引く | line | × | 横線を引きます |

[目次に戻る](#目次)

# レイアウトの設定

## 描画エリアサイズの設定

描画エリアのサイズは、プラグインパラメータ`Actor Status Width Rate`で設定します。３つの描画エリアの幅の**比率**を、カンマ(,)で区切って入力してください。

下の図の設定の場合は、表示エリアに対して描画エリア(1)~(3)を 2 : 2 : 3 の比率で分けます。
例えば表示エリアの幅が 350pixel だった場合、各描画エリアの幅は以下になります。(空白エリアのサイズが 0 だった場合)
* 描画エリア(1)の幅 - 100pixel
* 描画エリア(2)の幅 - 100pixel
* 描画エリア(3)の幅 - 150pixel

![画像](image/FTKR_CustomSimpleActorStatus/n02_005.png)

[目次に戻る](#目次)

## 描画エリアの設定
### 描画エリアの表示方法

プラグインパラメータ`Actor Status Text*`に設定した[コード](#表示できるステータス)の内容を、各[描画エリア](#描画エリア)に表示します。
* `Actor Status Text1` - 描画エリア(1)の内容
* `Actor Status Text2` - 描画エリア(2)の内容
* `Actor Status Text3` - 描画エリア(3)の内容

![画像](image/FTKR_CustomSimpleActorStatus/n02_002.png)

### ステータスの表示方式

プラグインパラメータに[コード](#表示できるステータス)を入力すると、描画エリア内にステータスを表示します。

描画エリア(2)の設定例
```
name,level
```
長いアクターの名前など描画エリアの幅よりもテキスト幅が長いステータスの場合でも、横に圧縮して描画エリア内に表示させます。

![画像](image/FTKR_CustomSimpleActorStatus/n02_013.png)

### カンマを使った入力
カンマ(,)で区切って入力したコードは、描画エリア内の次(下)の行に表示します。
複数のカンマで区切ることで縦に何行でも表示できますが、表示エリアを越えても表示できてしまうため、描画させるステータスの行数は表示エリアの高さ内に収めるようにしましょう。

描画エリア(3)の設定例
```
class,hp,mp
```
![画像](image/FTKR_CustomSimpleActorStatus/n02_009.png)

カンマ(,)を続けて2個入力すると、下の図のように1行空欄ができます。

描画エリア(2)の設定例
```
name,,level
```
![画像](image/FTKR_CustomSimpleActorStatus/n02_008.png)

### 波括弧を使った入力
コードを波括弧( { } )で囲むと、そのステータスを右側の描画エリアも使用して表示します。

長い名前などをフォントサイズを変えずに表示させたい場合に使用できます。
ただし、右側の描画エリアと表示が重なるため、右側の描画エリアは 1行空けるように設定しましょう。

描画エリア(2)の設定例
```
{name},level
```
描画エリア(3)の設定例
```
,,class,hp,mp
```
![画像](image/FTKR_CustomSimpleActorStatus/n02_012.png)

### 角括弧を使った入力
複数のコードを角括弧('[' ']')で囲み、スラッシュ(/)で区切ると、描画エリア内の同じ行に横に並べて表示します。
角括弧内の片側を空欄にした場合は、描画エリアも片側が非表示になります。
```
class,[hp/mp],[tp/]
```
![画像](image/FTKR_CustomSimpleActorStatus/n02_014.png)

横に並べる際の表示間隔は、プラグインパラメータ`Actor Status Space In Text`の設定値(pixel単位)に従います。

![画像](image/FTKR_CustomSimpleActorStatus/n02_004.png)

[目次に戻る](#目次)

## 空白エリアの設定
空白エリアのサイズは、プラグインパラメータ`Actor Status Space`で設定します。４つの空白エリアの幅(pixel単位)を、カンマ(,)で区切って入力してください。

下の図の設定の場合は、各[空白エリア](#空白エリア)の幅は以下になります。
* 空白エリア(4)の幅 - 10pixel
* 空白エリア(5)の幅 - 20pixel
* 空白エリア(6)の幅 - 50pixel
* 空白エリア(7)の幅 - 10pixel

![画像](image/FTKR_CustomSimpleActorStatus/n02_003.png)

なお、描画エリアのサイズは、表示エリアの幅から空白エリアの全幅を引いた値を元に、プラグインパラメータ`Actor Status Width Rate`の比率で分けます。
空白エリアを取りすぎると、描画エリアが小さくなりすぎてしまうので注意してください。

[目次に戻る](#目次)

# ステータスの表示

## 顔画像の表示

コード`face`または`face(x)`を入力した場合、アクターの顔画像を表示します。

コード`face`で表示する顔画像は、MVデフォルトでは 144*144 のサイズです。
1行は 36pixel に設定されているため、当倍サイズで表示するために必要な行数は 4 行です。

`face(x)`を使用すると、顔画像を圧縮拡大して x 行に収まるように画像を変形します。


下の画像は、`face(3)`で表示したものです。顔画像が3行に収まるので、その下にTPゲージなど、ステータスを追加できます。

![画像](image/FTKR_CustomSimpleActorStatus/n02_015.png)

顔画像は、描画エリアの幅を超えて表示できません。
設定を 5 にした場合、描画に必要な幅は 180pixelになりますが、描画エリアの幅がこの値以下の場合は、描画エリアの幅までしか拡大できません。
プラグインパラメータ`Actor Status Width Rate`の設定も合わせて調整してください。

顔画像について、以下のパラメータで設定を変更できます。

`Face Position X`

アクターの顔画像を描画エリアのどの位置に表示するか設定します。
* 0 - 左寄せ
* 1 - 中央(デフォルト)
* 2 - 右寄せ

描画エリアの幅が、顔画像の表示幅よりも大きい場合に機能します。
また、波括弧を使って描画エリアを拡張した場合にも有効です。

![画像](image/FTKR_CustomSimpleActorStatus/n04_010.png)

[目次に戻る](#目次)

## 歩行キャラ画像の表示

コード`chara`を入力した場合、アクターのキャラクタ画像(歩行キャラ)を表示します。
キャラクタ画像について、以下のパラメータで設定を変更できます。

`Chara Image Width`<br>
`Chara Image Height`

アクターのキャラクタ画像のサイズを設定します。
標準では48*48の画像を使用していますが、それ以外のサイズの
キャラ画像を使用している場合に、設定値を変えてください。

`Chara Position X`

アクターのキャラクタ画像を描画エリアのどの位置に表示するか設定します。
* 0 - 左寄せ
* 1 - 中央(デフォルト)
* 2 - 右寄せ

`Chara Direction`

アクターのキャラクタ画像の向きを設定します。
* 0 - 正面固定(デフォルト)
* 1 - マップ上の先頭プレイヤーの向き

![画像](image/FTKR_CustomSimpleActorStatus/n04_001.png)

[目次に戻る](#目次)

## SV戦闘キャラ画像の表示
コード`sv`を入力した場合、アクターのSVキャラクタ画像(SV戦闘キャラ)を表示します。
SVキャラクタ画像について、以下のパラメータで設定を変更できます。

### 画像サイズの設定

`Sv Image Width`<br>
`Sv Image Height`

アクターのSVキャラクタ画像のサイズを設定します。
標準では64*64の画像を使用していますが、それ以外のサイズの
キャラ画像を使用している場合に、設定値を変えてください。

### 表示位置の設定

`Sv Position X`

アクターのSVキャラクタ画像を描画エリアのどの位置に表示するか設定します。
* 0 - 左寄せ
* 1 - 中央(デフォルト)
* 2 - 右寄せ

### 表示モーションの設定

`Enabled Sv Motion`

アクターのSVキャラクタ画像のモーションを有効にするか設定します。
* 0 - 無効
* 1 - 有効(デフォルト)
* 2 - 戦闘時以外有効

無効にした場合は、モーションを表示せず、画像ファイル内の左上のSVキャラクタ画像で固定です。
フロントビューモードの場合は、強制的に無効になります。

`Sv Image Motion`

標準で表示するモーションを設定します。
表示するモーションの[コード名](Code_List.ja.md#モーション)を入力してください。

`Enabled State Motion`

ステートモーションを有効にするか設定します。
* 0 - 無効
* 1 - 有効(デフォルト)

有効にした場合、状態異常、戦闘不能、睡眠になっているキャラは、そのステートのモーションを表示します。

![画像](image/FTKR_CustomSimpleActorStatus/n04_002.png)

[目次に戻る](#目次)

## ステートアイコンの表示

コード`state`また`state2(x)`を入力した場合、アクターに付与されているステートのアイコンを表示することができます。
以下のプラグインパラメータで設定できます。

`Enable CSS States`

ステートアイコンの表示について当プラグインの専用描画処理を有効にするか設定します。
* 0 - 無効
* 1 - 有効(デフォルト)

有効にすると、以下のプラグインパラメータの設定に従いステートアイコンを表示します。
無効の場合はMVのデフォルトの描画処理を使用します。

`Animation Wait`

ステートアイコンの切り替え時間を指定します。

`Enable Overlap`

ステートアイコンの重なり表示を有効にする。
* 0 - 無効(デフォルト)
* 1 - 有効

有効にすると、アイコンを重ねて表示させることで
一度に表示できるアイコン数を増やします。

`Overlap Rate`

ステートアイコンの重なり表示を有効にした場合に、
アイコンサイズの重なりの許容できる比率を指定します。
 0 ~ 1 の値を設定してください。

`Enable Auto Scale`

行の高さに合わせてアイコンサイズを縮小するか設定します。
* 0 - 無効(デフォルト)
* 1 - 有効

![画像](image/FTKR_CustomSimpleActorStatus/n04_009.png)

### アイコンを横に並べて表示

アイコンを横に並べて表示させる場合は、コード`state`を使用します。
`Enable Overlap`が有効で、ステートが複数付与されていて描画エリアの幅に収まらない場合は、図のように重ねて表示します。

![画像](image/FTKR_CustomSimpleActorStatus/n04_008.png)

### アイコンを縦に並べて表示

アイコンを縦に並べて表示させる場合は、コード`state2(x)`を使用します。
x は何行を使って表示するか指定する値です。
`Enable Overlap`が有効で、ステートが複数付与されていて指定した行内に収まらない場合は、図のように重ねて表示します。

下の図の場合は、以下のコードを入力して4行に表示しています。
```
state2(4)
```
![画像](image/FTKR_CustomSimpleActorStatus/n04_007.png)

[目次に戻る](#目次)

## 装備パラメータの表示

コード`eparam(x)`を入力した場合、指定したアイテムを装備した時のパラメータを表示することができます。
`x`は 0 ~ 7 の値で、以下のどのパラメータを表示するか指定します。
* 0 - 最大HP
* 1 - 最大MP
* 2 - 攻撃力
* 3 - 防御力
* 4 - 魔法攻撃
* 5 - 魔法防御
* 6 - 敏捷性
* 7 - 運

デフォルトの装備画面と同様に右矢印`→`と合わせて、パラメータ値を表示します。

右矢印記号は、以下のプラグインパラメータで変更できます。

`Equip Right Arrow`

装備を変える時に表示する右矢印記号を指定します。
制御文字が使用できます。

![画像](image/FTKR_CustomSimpleActorStatus/n04_011.png)

[目次に戻る](#目次)

## ＡＯＰ装備パラメータの表示

コード`eaop(x)`を入力した場合、指定したアイテムを装備した時のAOPパラメータを表示することができます。

AOPパラメータとは、FTKR_AddOriginalParameters.js で作成したオリジナルパラメータです。
x にはパラメータIDを指定してください。

デフォルトの装備画面と同様に右矢印`→`と合わせて、パラメータ値を表示します。

このコードを使用するためには、FTKR_AddOriginalParameters.jsが必要です。

[目次に戻る](#目次)

## カスタムパラメータの表示

コード`custom(x)`を入力した場合、プラグインパラメータ`Custom Param x`で設定したパラメータを表示することができます。
カスタムパラメータは、最大で20種類設定できます。

### パラメータの設定

`Custom x Display Name`

パラメータの表示名を設定します。
表示名には制御文字が使用できます。

`Custom x References`

パラメータの値の参照先を 計算式(eval) で設定します。

`Custom x Unit`

パラメータの値の単位を設定します。
単位には制御文字が使用できます。

### 計算式(eval) の値について

計算式(eval)は、ダメージ計算式のように、計算式を入力することで、固定値以外の値を使用することができます。以下のコードを使用できます。
* a.param - アクターのパラメータを参照します。(a.hit でアクターの命中率)
* v[x]    - 変数ID x の値を参照します。
* s[x]    - スイッチID x の値を参照します。

命中率のような百分率の値の場合、`a.hit`とそのまま記述すると少数で表示します。
そのため、以下のように記述して整数に変換するようにします。
```
a.hit * 100
a.hit.parcent()
```

![画像](image/FTKR_CustomSimpleActorStatus/n04_003.png)

[目次に戻る](#目次)

## カスタムゲージの表示
コード`gauge(x)`を入力した場合、`Gauge Param x`で設定したゲージを表示することができます。
カスタムゲージは、最大で10種類設定できます。

### 共通設定
`Gauge Param Digit`

現在値と最大値の表示幅を指定した桁数に設定します。
この桁数以上の値の場合、横に圧縮して表示します。

### 個別パラメータの設定
`Gauge x Display Name`

ゲージの表示名を設定します。
表示名には制御文字が使用できます。
表示名を設定しない場合、ゲージの現在値と最大値の数値を表示しません。

`Gauge x References`

ゲージで表示する値の参照先をeval値で設定します。
この値を設定すると、現在値と最大値は表示しません。

`Gauge x Current`

ゲージの現在値の参照先を 計算式(eval) で設定します。

`Gauge x Max`

ゲージの最大値の参照先を 計算式(eval) で設定します。
最大値の数値は、描画エリアの幅が足りない場合には表示しません。

`Gauge x Color1`<br>
`Gauge x Color2`

ゲージの色1と色2を設定します。
色1と色2の値を変えることで、HPゲージのようにグラデーションに表示します。
-1 を指定すると、ゲージバーを非表示にします。

### 計算式(eval) の値について

計算式(eval)は、ダメージ計算式のように、計算式を入力することで、固定値以外の値を使用することができます。以下のコードを使用できます。
* a.param - アクターのパラメータを参照します。(a.hit でアクターの命中率)
* v[x]    - 変数ID x の値を参照します。
* s[x]    - スイッチID x の値を参照します。

命中率のような百分率の値の場合、`a.hit`とそのまま記述すると少数で表示します。
そのため、以下のように記述して整数に変換するようにします。
```
a.hit * 100
a.hit.parcent()
```

プラグインには、デフォルトで ゲージ0 に現在EXPと次レベルのEXPからなる経験値ゲージを設定しています。
カスタムゲージを作る上での参考にしてください。

![画像](image/FTKR_CustomSimpleActorStatus/n04_004.png)

[目次に戻る](#目次)

## カスタム画像の表示
コード`image`または`image(x)`を入力した場合、アクターのメモ欄で設定した画像を表示する
ことができます。

* `image` - 最初に登録した画像を表示します。
* `image(x)` - 画像を登録した順番に x = 0,1,2,... と指定します。

![画像](image/FTKR_CustomSimpleActorStatus/n04_006.png)

### メモ欄の設定
設定には以下のタグを入力します。
```
<CSS_画像:画像名>
code
</CSS_画像>
```
または
```
<CSS_IMAGE:imagename>
code
</CSS_IMAGE>
```
表示させたい画像名を入力します。<br>
画像は、プロジェクトフォルダ内の/img/picture/に保存してください。
異なる画像名であれば、複数の画像を設定すことができます。

#### code に使用できるタグ

以下のタグで、画像を四角に切り取って表示(トリミング)することができます。
設定しない場合は、画像をそのまま表示します。

`Bgi offset X: n`

画像ファイルを四角に切り取る時の左上のX座標 n を入力します。
指定しない場合は 0 になります。

`Bgi offset Y: n`

画像ファイルを四角に切り取る時の左上のY座標 n を入力します。
指定しない場合は 0 になります。

`Bgi width: n`

画像ファイルを四角に切り取る時の幅 n を入力します。
指定しない場合は 画像のサイズ になります。

`Bgi height: n`

画像ファイルを四角に切り取る時の高さ n を入力します。
指定しない場合は 画像のサイズ になります。

`Bgi scale: n`

画像ファイルを表示するときの拡大率(%)を入力します。
指定しない場合は原寸サイズで表示します。(原寸サイズ = 100)

### プラグインパラメータの設定

カスタム画像について、以下のパラメータで設定を変更できます。

`Image Position X`

カスタム画像を描画エリアのどの位置に表示するか設定します。
* 0 - 左寄せ
* 1 - 中央(デフォルト)
* 2 - 右寄せ

描画エリアの幅が、カスタム画像の幅よりも大きい場合に機能します。
また、波括弧を使って描画エリアを拡張した場合にも有効です。

### カスタム画像に使用できるプラグインコマンド

設定したカスタム画像は、以下のプラグインコマンドを実行することでゲーム中に変更できます。<br>
※[]は実際の入力に使用しません

```
CSS_カスタム画像変更 [アクター または パーティー] [アクターID または パーティー順番] [カスタム画像ID] [画像名] [X座標] [Y座標] [幅] [高さ] [拡大率]
CSS_CHANGE_CUSTOM_IMAGE [ACTOR or PARTY] [actorID or partyNumber] [customImageID] [imageName] [offsetX] [offsetY] [width] [height] [scale]
```

`アクター または パーティー(ACTOR or PARTY)`<br>
変更したい対象アクターの指定方法を選択します。<br>
いずれかの文字列を記載してください。

   `アクターID または パーティー順番(actorID or partyNumber)`<br>
     上記で設定した指定方法に合わせてアクターIDかパーティー順番の番号を入力します。<br>
       なお、パーティー順番は、先頭キャラを 0番と数えます。<br>
       \v[n]で変数を指定することも可能です。

   `カスタム画像ID(customImageID)`<br>
     変更したいカスタム画像IDを設定します。<br>
       \v[n]で変数を指定することも可能です。

   `画像名(imageName)`<br>
     変更する画像ファイル名を文字列で設定します。<br>
       画像は、プロジェクトフォルダ内の/img/pictures/に保存してください。

なお、このファイルはディプロイメントの「未使用ファイルを含まない」の対象外です。<br>
別途イベントでピクチャとして登録しておくなど、回避手段を講じてください。

   `X座標(offsetX)`<br>
   `Y座標(offsetY)`<br>
   `幅(width)`<br>
   `高さ(height)`<br>
   `拡大率(scale)`<br>
     画像ファイルの表示設定を変更します。<br>
       アクターのメモ欄の設定方法と同じです。<br>
       変更しない場合は、-1 と入力します。<br>
       \v[n]で変数を指定することも可能です。<br>

入力例）
```
◆プラグインコマンド：CSS_カスタム画像変更 アクター 1 0 Package1_2 -1 -1 -1 -1 50
```
このコマンドで、アクターID 1 のカスタム画像ID 0 の画像を、/img/pictures/Package1_2.png に変更した上で、トリミングサイズは変更せず、拡大率を 50% に設定します。

[目次に戻る](#目次)

## アクター別のカスタムゲージの表示
コード`agauge(x)`を入力した場合、アクターのメモ欄で設定したゲージを表示することができます。
メモ欄で設定していないアクターは、空欄になります。

![画像](image/FTKR_CustomSimpleActorStatus/n04_013.png)

### メモ欄の設定
設定には以下のタグを入力します。
```
<CSS_カスタム: x>
code
</CSS_カスタム>
```
または
```
<CSS_CUSTOM: x>
code
</CSS_CUSTOM>
```
コード`agauge(x)`で表示するゲージを設定します。
現在値と最大値の表示桁数はカスタムゲージの設定を使用します。

### code に使用できるタグ
```
表示名: y
NAME: y
```
ゲージの表示名を設定します。
表示名には制御文字が使用できます。
表示名を設定しない場合、ゲージの現在値と最大値の数値を表示しません。

```
参照先: eval
REFERENCES: eval
```
ゲージで表示する値の参照先をeval値で設定します。
この値を設定すると、現在値と最大値は表示しません。

```
現在値: eval
CURRENT: eval
```
ゲージの現在値の参照先を 計算式(eval) で設定します。

```
最大値: eval
MAX: eval
```
ゲージの最大値の参照先を 計算式(eval) で設定します。
最大値の数値は、描画エリアの幅が足りない場合には表示しません。

```
色: y1,y2
COLOR: y1,y2
```
ゲージの色1を y1 に、色2を y2 に設定します。
色1と色2の値を変えることで、HPゲージのようにグラデーションに表示します。
-1 を指定すると、ゲージバーを非表示にします。

### 計算式(eval) の値について

計算式(eval)は、ダメージ計算式のように、計算式を入力することで、固定値以外の値を使用することができます。以下のコードを使用できます。
* a.param - アクターのパラメータを参照します。(a.hit でアクターの命中率)
* v[x]    - 変数ID x の値を参照します。
* s[x]    - スイッチID x の値を参照します。

命中率のような百分率の値の場合、`a.hit`とそのまま記述すると少数で表示します。
そのため、以下のように記述して整数に変換するようにします。
```
a.hit * 100
a.hit.parcent()
```

![画像](image/FTKR_CustomSimpleActorStatus/n04_012.png)

[目次に戻る](#目次)

## クラス別のカスタムゲージの表示
コード`cgauge(x)`を入力した場合、クラスのメモ欄で設定したゲージを表示することができます。
メモ欄で設定していないクラスは、空欄になります。

### メモ欄の設定
アクター別のカスタムゲージと同じです。

### code に使用できるタグ
アクター別のカスタムゲージと同じです。

### 計算式(eval) の値について
アクター別のカスタムゲージと同じです。

[目次に戻る](#目次)

## メッセージの表示
コード`message`を入力した場合、アクターの状態変化に合わせて以下のメッセージ表示することができます。

### アクターのレベルアップ
アクターがレベルアップすると、レベルアップメッセージを表示します。
メッセージの内容は、プラグインパラメータ`Display LevelUp Message`で設定します。
メッセージには制御文字を使用できます。

![画像](image/FTKR_CustomSimpleActorStatus/n04_014.png)

[目次に戻る](#目次)

## プラグインの更新履歴

| バージョン | 公開日 | 更新内容 |
| --- | --- | --- |
| [ver3.0.1](FTKR_CustomSimpleActorStatus.js) | 2018/08/20| 拡張プラグインでステータスウィンドウの設定を有効にした場合にエラーになる不具合を修正 |
| ver3.0.0 | 2018/08/19| ステータスの表示とパラメータの入力に、ステータスごとの表示位置指定方式を採用<br>FTKR_GDM_WindowEditor対応版に修正<br>顔画像のサイズを調整する機能を追加 |
| [ver2.7.2](archive/FTKR_CustomSimpleActorStatus_2.7.2.js) | 2018/08/18| 拡張プラグイン使用時にステートアイコンが表示されない不具合を修正 |
| ver2.7.1 | 2018/08/17| バトルシーンでステータスウィンドウが非表示でも、ステートアイコンが表示される不具合を修正 |
| ver2.7.0 | 2018/03/17| カスタム画像をゲーム中に変更するプラグインコマンドを追加 |
| ver2.6.3 | 2018/03/12| 顔画像やカスタム画像の表示透過度の判定部を関数として独立<br>コード処理部にアクターが設定されていない場合の例外処理を追加 |
| ver2.6.2 | 2018/03/11| 角括弧で設定したコードが正しく表示されない不具合を修正<br>デザインモード中にstateコードを変更した際に、ステートアイコンの表示が一部更新されない不具合を修正 |
| ver2.6.1 | 2018/01/07| 顔画像、歩行キャラ、SVキャラのX座標方向の寄せ表示部分を関数として独立 |
| ver2.6.0 | 2017/11/18| FTKR_CSS_***Status系の拡張プラグインをGraphicalDesignMode.jsに対応する処理を追加 |
| ver2.5.1 | 2017/11/08| FTKR_OriginalSceneWindow.jsで生成したウィンドウが有る場合にシーン開始時にエラーになる不具合を修正 |
| ver2.5.0 | 2017/11/08| 横線を表示するコードを追加<br>GraphicalDesignMode.jsとFTKR_CSS_GDM.jsにより、デザインモード中にゲーム内でレイアウトを変更する機能を追加 |
| ver2.4.3 | 2017/11/02| 装備画面でフリーズする不具合を修正 |
| ver2.4.2 | 2017/11/01| カスタムパラメータとカスタムゲージで、名前が表示されない不具合を修正<br>装備のパラメータが表示されない不具合を修正 |
| ver2.4.1 | 2017/10/16 | カスタムパラメータとカスタムゲージで、制御文字を使用した時に、表示位置がずれる場合がある不具合を修正 |
| ver2.4.0 | 2017/10/16 | カスタムゲージで、現在値および最大値に文字列を表示できるように変更 |
| ver2.3.0 | 2017/07/23 | 表示コードの判定部の記述を見直し<br>括弧で数値を指定する表示コードに対して、数値ではなくスクリプトで指定できるように修正<br>FTKR_AddOriginalParametersで作成したオリジナルパラメータの装備パラメータを表示するコード「eaop(x)」を追加 |
| ver2.2.0 | 2017/06/20 | テキストコードに、JS計算式の評価処理を追加<br>JS計算式の評価コードで、文字列のまま表示する機能を追加 |
| ver2.1.0 | 2017/06/19 | カスタム画像の設定仕様を変更<br>カスタム画像を複数設定できる機能を追加 |
| ver2.0.0 | 2017/06/18 | メニュー画面のレイアウト変更機能を削除 |
| [ver1.8.0](archive/FTKR_CustomSimpleActorStatus_1.8.0.js) | 2017/06/17 | カスタムパラメータに単位を表示する機能を追加 |
| ver1.7.6 | 2017/06/10 | YEP_BuffsStatesCore.jsと組み合わせた時にステートカウントの表示が正しく更新されない不具合を修正 |
| ver1.7.5 | 2017/06/10 | テキストコードに制御文字を入力すると、正しく表示できない不具合を修正 |
| ver1.7.4 | 2017/06/09 | YEP_BuffsStatesCore.jsに対応 |
| ver1.7.3 | 2017/06/08 | ステートアイコンの表示処理をMVデフォルトに戻す機能を追加 |
| ver1.7.2 | 2017/06/07 | 波括弧による描画エリアの拡張が正しく機能しない不具合を修正<br>eval()によるJS計算結果を表示するコードを追加<br>レベルアップメッセージを表示するコードを追加 |
| ver1.7.1 | 2017/06/05 | 歩行キャラが正しく表示されない不具合を修正<br>歩行キャラの向きをマップ上のプレイヤーに合わせる機能を追加<br>SVキャラのモーションを無効にする機能を追加<br>カスタム画像を表示する位置を調整する機能を追加 |
| ver1.7.0 | 2017/06/02 | アクター毎に個別に設定できるカスタムゲージを追加<br>クラス毎に個別に設定できるカスタムゲージを追加<br>プラグインパラメータEnabled Skill Statusを無効にした場合にスキル画面のステータス欄が表示しない不具合を修正 |
| ver1.6.0 | 2017/06/01 | カスタムゲージの表示内容の調整機能を見直し<br>カスタムゲージのゲージバーを非表示にする機能を追加<br>カスタムゲージに現在値と最大値の替わりに指定した値を設定する機能を追加 |
| ver1.5.3 | 2017/05/13 | 装備画面で使用可能なパラメータ表示コード'eparam'を追加 |
| ver1.5.2 | 2017/05/12 | アクターを横に並べたときに描画エリアを拡張すると、隣のアクターの表示エリアにも拡張される不具合を修正<br>画像の表示位置の調整機能を追加 |
| ver1.5.1 | 2017/05/11 | ステータスウィンドウに表示できる人数よりもパーティーが少ない場合にエラーになる不具合を修正 |
| ver1.5.0 | 2017/05/10 | FTKR_FacialImageDifference.jsに対応 |
| [ver1.4.4](/archive/FTKR_CustomSimpleActorStatus_1.4.4.js) | 2017/05/08 | メニュー画面のアクターのスプライトが正しく更新されない不具合を修正 |
| ver1.4.3 | 2017/05/06 | アクターを横に並べた時に、顔画像が正しく表示されない不具合を修正<br>縦のカーソル間隔を設定する機能を追加 |
| ver1.4.2 | 2017/05/04 | カスタムパラメータとカスタムゲージにアクターのセルフ変数を適用 |
| ver1.4.1 | 2017/04/25 | 逃走で戦闘終了するとSVキャラの表示位置が移動する不具合を修正 |
| ver1.4.0 | 2017/04/21 | メニュー画面以外の表示変更機能を拡張プラグインとして分離<br>顔画像の表示仕様を変更<br>カスタム画像のタグの仕様を変更<br>メニュー画面の簡易ステータスウィンドウの設定変更機能を追加 |
| [ver1.3.1](/archive/FTKR_CustomSimpleActorStatus_1.3.1.js) | 2017/04/21 | FTKR_ExSvMotion.jsに対応 |
| ver1.3.0 | 2017/04/19 | ステートアイコンの表示仕様を変更 |
| [ver1.2.5](/archive/FTKR_CustomSimpleActorStatus_1.2.5.js) | 2017/04/15 | ステートアイコンの表示位置を微調整 <br> 行の高さに合わせてステートアイコンのサイズを調整する機能を追加 |
| ver1.2.4 | 2017/04/12 | 顔画像の拡大縮小処理修正 |
| ver1.2.3 | 2017/04/11 | ヘルプ修正 |
| ver1.2.2 | 2017/04/11 | 機能追加、GitHubで公開開始 |
| ver1.2.1 | 2017/04/01 | 機能削除、機能追加、[ツクマテ](http://tm.lucky-duet.com/viewtopic.php?f=5&t=3305)で公開 |
| ver1.0.0 | 2017/03/09 | 初版作成、[ツクマテ](http://tm.lucky-duet.com/viewtopic.php?f=5&t=3305)で公開 |

旧バージョンを使用する場合は、ファイル名のバージョン部分(FTKR_CustomSimpleActorStatus[_1.x.x].jsの[]部分)を削除してください。

## 拡張プラグイン

以下のプラグインを使用することで、本プラグインの機能を拡張できます。

* [FTKR_CSS_MenuStatus](FTKR_CSS_MenuStatus.ja.md) - メニュー画面のステータスレイアウトを変更できます
* [FTKR_CSS_BattleStatus](FTKR_CSS_BattleStatus.ja.md) - バトル画面のステータスレイアウトを変更できます
* [FTKR_CSS_DetailedStatus](FTKR_CSS_DetailedStatus.ja.md) - ステータス画面のステータスレイアウトを変更できます
* [FTKR_CSS_SkillStatus](FTKR_CSS_SkillStatus.ja.md) - スキル画面のステータスレイアウトを変更できます
* [FTKR_CSS_CustomizeBattleResults](FTKR_CSS_CustomizeBattleResults.ja.md) - バトル終了時に戦績画面を表示します

* [FTKR_AddOriginalParameters](FTKR_AddOriginalParameters.ja.md) - カスタムパラメータやカスタムゲージに使用可能なアクターのオリジナルパラメータを作成できます
* [FTKR_ExSvMotion.js](FTKR_ExSvMotion.ja.md) - ステート付加時のモーションを追加・変更できます。
* [FTKR_ItemSelfVariables.js](FTKR_ItemSelfVariables.ja.md) - カスタムパラメータやカスタムゲージに使用可能なアクターのセルフ変数を追加できます。
* [FTKR_FTKR_FacialImageDifference.js](FTKR_FTKR_FacialImageDifference.ja.md) - 表示する顔画像をアクターの状態で変更できます。

## ライセンス

本プラグインはMITライセンスのもとで公開しています。

[The MIT License (MIT)](https://opensource.org/licenses/mit-license.php)

#
[目次に戻る](#目次)

[トップページに戻る](README.md)
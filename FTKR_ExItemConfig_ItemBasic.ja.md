[トップページに戻る](README.md)

# [FTKR_ExItemConfig_ItemBasic](FTKR_ExItemConfig_ItemBasic.js) プラグイン

アイテムとスキルの基本設定を拡張するプラグインです。

ダウンロード: [FTKR_ExItemConfig_ItemBasic.js](https://raw.githubusercontent.com/futokoro/RPGMaker/master/FTKR_ExItemConfig_ItemBasic.js)

## 目次

以下の項目の順でプラグインの使い方を説明します。
1. [概要](#概要)
2. [基本設定の変更](#基本設定の変更)
* [プラグインの更新履歴](#プラグインの更新履歴)
* [ライセンス](#ライセンス)

## 概要

本プラグインを実装することで、アイテム(武器・防具含む)やスキルに、以下の仕様を追加します。

1. 事前に複数の設定(名前、アイコン、説明文)を登録し、ゲーム内で条件付けで表示を変えることができます。

2. アイテム・武器・防具の場合、価格も設定できます。

3. アイテム・スキルの場合、使用可能時も設定できます。

## 基本設定の変更

アイテム(武器・防具含む)やスキルに以下のノートタグを追記することで、一つのアイテム・スキルに対して複数の基本設定を登録することができます。

データベース上の設定は、データID0 に登録されます。
データID0は、他のIDの適用条件が満たない場合に適用します。

注意：データIDを追加する場合は、必ずID1 から順番に追加してください。

データID x に対して code部の設定を登録します。
```
<EIC 基本設定: x>
code
</EIC 基本設定>
```

### code部で設定できる項目
<全共通>
```
有効条件: 計算式
enabled: eval
```
データID x の適用条件を 計算式(eval) で設定します。
適用条件が複数のIDで重なった場合は、IDが大きい方を適用します。
適用条件を設定しない場合、常に有効になります。

これ以降のcodeは、設定しなかった場合、データベース上の設定を適用します。
```
名前: アイテム名
name: アイテム名
```
アイテムとスキルの名前を'アイテム名'に変更します。

```
アイコン: y
icon: y
```
アイコンIDを y に変更します。

```
説明: 説明文
desc: 説明文
```
アイテムとスキルの説明を'説明文'に変更します。
制御文字を使用できます。
二つ設定することで、説明文を2行に表示できます。

<アイテム・武器・防具用>
```
価格: 計算式
price: eval
```
アイテムの価格を 計算式(eval) で設定した値に変更します。

<アイテム・スキル用>
```
使用可能時: 状況
used: 状況
```
使用可能時の設定を'状況'に変更します。
'状況'には以下の文字または数字を入力します。
* 0 - 常時
* 1 - バトル画面
* 2 - メニュー画面
* 3 - 使用不可 


### 計算式(eval) の値について
計算式(eval)は、ダメージ計算式のように、計算式を入力することで、
固定値以外の値を使用することができます。以下のコードを使用できます。
* a.param    - アクターのパラメータを参照します。(スキルの場合のみ)
* s[x]       - スイッチID x の状態を参照します。
* v[x]       - 変数ID x の値を参照します。
* iv[x]      - アイテムとスキルのセルフ変数ID x の値を参照します。(*1)

(*1) セルフ変数を使用する場合は、FTKR_ItemSelfVariables.jsが必要です。


### 入力例
アイテムとスキルのセルフ変数ID1 が O の時にアイテムとスキルの設定を変える場合の設定。
鑑定イベント等を作成し、アイテムとスキルのセルフ変数ID1を 0 以外に変えるとアイテム本来の表示になります。
```
<EIC 基本設定: 1>
有効条件: !iv[1]
名前: 何かのアイテム
アイコン: 160
価格: 0
説明: 何に使えるか不明なアイテム。
説明: 鑑定するまで使用できない。
使用可能時: 使用不可
</EIC 基本設定>
```

[目次に戻る](#目次)

## プラグインの更新履歴

| バージョン | 公開日 | 更新内容 |
| --- | --- | --- |
| [ver1.1.2](FTKR_ExItemConfig_ItemBasic.js) | 2018/04/16 | 他プラグインとの競合回避のため、関数名を変更 |
| ver1.1.1 | 2018/03/09 | ヘルプの計算式の説明で、アクターのパラメータ参照方法の記述を修正<br>アクターのパラメータを条件に設定しても説明欄に反映されない不具合を修正 |
| ver1.1.0 | 2017/04/29 | スキルにも適用できるように変更<br>FTKR_ItemSelfVariables の v1.1.0以降に対応 |
| ver1.0.0 | 2017/04/14 | 初版公開 |

## 拡張プラグイン

以下のプラグインを使用することで、本プラグインの機能を拡張できます。

* [FTKR_ExItemConfig_IB_SkillCost](FTKR_ExItemConfig_IB_SkillCost.ja.md) - スキルの消費コストを拡張します

## ライセンス

本プラグインはMITライセンスのもとで公開しています。

[The MIT License (MIT)](https://opensource.org/licenses/mit-license.php)

#
[目次に戻る](#目次)

[トップページに戻る](README.md)